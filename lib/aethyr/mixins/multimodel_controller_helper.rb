###########################################################################################################
#### Aethyr mixin for synchronizing aws models
###########################################################################################################
module Aethyr

    ########################################################################################################
    #### Mixins
    ########################################################################################################
    module Mixins
  
      ########################################################################################################
      #### methods added to controllers
      ########################################################################################################
      module ControllerHelper
  
        ########################################################################################################
        def initialize_sortable_table_session(args)
          args.assert_valid_keys(:session_key, :column, :sort, :force)
          args[:force].nil? ? force = true : force = args[:force]
          table_is_new = false
          unless session[args[:session_key]]
            session[args[:session_key]] = {}
            table_is_new = true
          end 
          if table_is_new or force
            session[args[:session_key]][:column] = args[:column]
            session[args[:session_key]][:sort] = args[:sort]
            session[args[:session_key]][:page] = 1
          end
        end
                  
      ########################################################################################################
      end #### ControllerHelper
      ########################################################################################################

  ##########################################################################################################
  end #### Aws
  ########################################################################################################

############################################################################################################
end #### Aethyr
############################################################################################################
    