############################################################################################################
module Aethyr

  ############################################################################################################
  module Linux
  
    ############################################################################################################
    module Interface
    
      ##########################################################################################################
      class RubyGems
  
        ######################################################################################################
        #### class methods
        class << self
  
          ########################################################################################################
          def find(type = :all, options = {})
            if type.eql?(:first)
            else
              self.find_all
            end
          end

        ######################################################################################################
        protected
    
          ##########################################################################################################
          def find_all

            gems = []
            gem = {}
            
            #### attributes other than description
            rows = `gem list -d -l`.split("\n")
            rows.slice!(0..2)
            rows.each do |r|
p r
              if name_ver = /(^\S+)\s\((.*)\)/.match(r)
                gem = {
                        :name     => name_ver.to_a[1],
                        :versions => name_ver.to_a[2].split(','),
                      }
              end
            end
            
            gems

          end
    
        ######################################################################################################
        end  
        
      ##########################################################################################################
      end
  
    ##########################################################################################################
    end

  ##########################################################################################################
  end
  
##########################################################################################################
end
