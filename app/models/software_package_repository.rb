########################################################################################################
########################################################################################################
class SoftwarePackageRepository < ActiveRecord::Base

  ######################################################################################################
  #### mixins
  include Aethyr::Mixins::Synchronizer::Model
  extend Aethyr::Aln::ConnectedModelHelper  

  ######################################################################################################
  #### need to specify table name
  set_table_name 'software_package_repositories'

  ######################################################################################################
  #### inheritance relations
  has_ancestor :named => :aln_resource   

  ######################################################################################################
  #### serialized
  serialize :components

  ######################################################################################################
  #### validation

  ####################################################################################################
  def add_associations(supporter)

    supporter << self

  end

  ######################################################################################################
  def sync_key
    "#{self.repository_type}-#{self.name}-#{self.components.join}#{self.address}"
  end

  ######################################################################################################
  #### class methods
  class << self

    ####################################################################################################
    def sync_key(params)
      "#{params[:repository_type]}-#{params[:name]}-#{params[:components].join}-#{params[:address]}"
    end

  end  

######################################################################################################
protected

end
